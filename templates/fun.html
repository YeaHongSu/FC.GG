{% extends 'base.html' %}

{% block title %}FC.GG - í˜„ì§ˆì„ ì•ˆ í–ˆë‹¤ë©´?{% endblock %}

{% block extra_meta %}
<meta name="naver-site-verification" content="c1b0a71b768a10669f82da810f13bc34f3953457" />
<meta name="keywords" content="í”¼íŒŒ, í”¼íŒŒì˜¨ë¼ì¸, í”¼íŒŒì˜¨ë¼ì¸4, FCì˜¨ë¼ì¸, í˜„ì§ˆ, ì—í”„ì”¨ì§€ì§€, fcgg, fc.gg">
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/fun.css') }}">
{% endblock %}

{% block content %}
<section class="fun-section">
    <h1 class="page-title">FCì˜¨ë¼ì¸ì— í˜„ì§ˆì„ ì•ˆ í–ˆë‹¤ë©´?</h1>
    <p class="page-subtitle">ë„¥ìŠ¨ ì°½ë¬¸ì„ ëª‡ ê°œë‚˜ ë§Œë“¤ì—ˆì„ê¹Œìš”...</p>
    <button class="btn-accent" onclick="window.open('https://member.nexon.com/home/index.aspx', '_blank');">í˜„ì§ˆ ê¸ˆì•¡ í™•ì¸ ë°©ë²•</button>

    <!-- Search -->
    <div class="search-section">
        <div class="search-wrapper">
            <input type="text" id="spending-input" class="search-input" placeholder="í˜„ì§ˆ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš” (ì›)">
            <button class="search-btn" id="calculate-btn">ê³„ì‚°í•˜ê¸°</button>
        </div>
    </div>
    <!-- ğŸ”¹ ì¤‘ì•™ ë°°ë„ˆ -->
    <div id="vm-top-banner"
         style="width:100%; display:flex; justify-content:center; margin:32px 0;">
    </div>
    <!-- Results -->
    <div class="result-container hidden" id="result-container">
        <div class="result-grid">
            <div class="result-item">
                <span class="result-label">ë„¥ìŠ¨ ì°½ë¬¸ ì œì‘</span>
                <strong id="window-result" class="result-value primary">0ê°œ</strong>
            </div>
            <div class="result-item">
                <span class="result-label">ì¹˜í‚¨</span>
                <strong id="chicken-result" class="result-value secondary">0ë§ˆë¦¬</strong>
            </div>
            <div class="result-item">
                <span class="result-label">ì•„ë©”ë¦¬ì¹´ë…¸</span>
                <strong id="coffee-result" class="result-value success">0ì”</strong>
            </div>
            <div class="result-item">
                <span class="result-label">KTX ì„œìš¸-ë¶€ì‚° ì™•ë³µ</span>
                <strong id="ktx-result" class="result-value danger">0ë²ˆ</strong>
            </div>
            <div class="result-item">
                <span class="result-label">ì½”ì¸ë…¸ë˜ë°©</span>
                <strong id="karaoke-result" class="result-value info">0ê³¡</strong>
            </div>
            <div class="result-item">
                <span class="result-label">ë„·í”Œë¦­ìŠ¤ êµ¬ë…</span>
                <strong id="netflix-result" class="result-value dark">0ê°œì›”</strong>
            </div>
        </div>

        <!-- Share -->
        <div class="share-section">
            <h5>ê³¼ì—° ë‚´ ì¹œêµ¬ì˜ ê²°ê³¼ëŠ”?</h5>
            <div class="share-buttons">
                <button class="btn-facebook" id="share-facebook">í˜ì´ìŠ¤ë¶</button>
                <button class="btn-link" id="share-link">ğŸ”— ë§í¬ ë³µì‚¬</button>
            </div>
        </div>
    </div>
</section>

<!-- Ads -->

<!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7970639123590302" crossorigin="anonymous"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7970639123590302" data-ad-slot="5624069254"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script> -->
{% endblock %}

{% block extra_js %}
<script>
    document.getElementById('calculate-btn').addEventListener('click', function () {
        const amountInput = document.getElementById('spending-input');
        const amount = parseFloat(amountInput.value.replace(/,/g, ''));
        if (isNaN(amount) || amount <= 0) {
            alert('ì˜¬ë°”ë¥¸ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”!');
            return;
        }

        const WINDOW_COST = 70000;
        const CHICKEN_COST = 18000;
        const COFFEE_COST = 2000;
        const KTX_COST = 130000;
        const KARAOKE_COST = 500;
        const NETFLIX_COST = 5500;

        function formatResult(value) {
            return Math.floor(value).toLocaleString('en-US');
        }

        document.getElementById('window-result').textContent = formatResult(amount / WINDOW_COST) + 'ê°œ ê°€ëŠ¥';
        document.getElementById('chicken-result').textContent = formatResult(amount / CHICKEN_COST) + 'ë§ˆë¦¬ êµ¬ë§¤ ê°€ëŠ¥';
        document.getElementById('coffee-result').textContent = formatResult(amount / COFFEE_COST) + 'ì” êµ¬ë§¤ ê°€ëŠ¥';
        document.getElementById('ktx-result').textContent = formatResult(amount / KTX_COST) + 'ë²ˆ ê°€ëŠ¥';
        document.getElementById('karaoke-result').textContent = formatResult(amount / KARAOKE_COST) + 'ê³¡ ê°€ëŠ¥';

        const netflixYears = amount / (NETFLIX_COST * 12);
        const netflixResult = netflixYears >= 1 ? Math.floor(netflixYears) + 'ë…„ ê°€ëŠ¥' : (Math.round(netflixYears * 10) / 10).toFixed(1) + 'ê°œì›” ê°€ëŠ¥';
        document.getElementById('netflix-result').textContent = netflixResult;

        document.getElementById('result-container').classList.remove('hidden');
    });

    document.getElementById('spending-input').addEventListener('input', function (e) {
        const input = e.target;
        const value = input.value.replace(/,/g, '');
        if (!isNaN(value) && value !== '') {
            input.value = parseFloat(value).toLocaleString('en-US');
        }
    });

    document.getElementById('share-facebook').addEventListener('click', function () {
        const fbShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`;
        window.open(fbShareUrl, '_blank');
    });

    document.getElementById('share-link').addEventListener('click', function () {
        navigator.clipboard.writeText(window.location.href).then(function () {
            alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }, function () {
            alert('ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        });
    });
</script>
{% endblock %}
