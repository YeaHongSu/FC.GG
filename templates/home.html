{% extends 'base.html' %}

{% block title %}FC.GG - FCì˜¨ë¼ì¸ ì „ì  ê²€ìƒ‰, ì„ ìˆ˜ í‹°ì–´, ìŠ¹ë¥  ê°œì„ , ë¹ ì¹­ì½” ì—°ìŠµì‹¤, ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°, ì»¤ë®¤ë‹ˆí‹°{% endblock %}

{% block extra_meta %}
<meta name="naver-site-verification" content="b545b4e23767e7d9bf0d2ba33570793dfdacf4c5" />
<meta name="description" content="FCì˜¨ë¼ì¸ ìœ ì €ë¥¼ ìœ„í•œ FC.GG ì„œë¹„ìŠ¤ë“¤ì„ í™•ì¸í•˜ì„¸ìš”. ìŠ¹ë¥  ê°œì„  ì†”ë£¨ì…˜, ì„ ìˆ˜ í‹°ì–´ ì œê³µ, ë¹ ì¹­ì½” ì—°ìŠµì‹¤, ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°, ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì´ìš©í•´ ë³´ì„¸ìš”!">
<meta name="keywords" content="í”¼íŒŒ, í”¼íŒŒì˜¨ë¼ì¸, í”¼íŒŒì˜¨ë¼ì¸4, FCì˜¨ë¼ì¸, í”¼íŒŒ ì „ì , í”¼íŒŒ ì „ì  ê²€ìƒ‰, FCì˜¨ë¼ì¸ ì „ì , FCì˜¨ë¼ì¸ ì „ì ê²€ìƒ‰, í”Œë ˆì´ìŠ¤íƒ€ì¼, ìŠ¹ë¥  ê°œì„ , ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°, ë¹ ì¹­ì½”, ì„ ìˆ˜ í‹°ì–´, ì—í”„ì”¨ì§€ì§€, fcgg, fc.gg">
<link rel="canonical" href="https://fcgg.kr" />
<meta property="og:title" content="FC.GG - FCì˜¨ë¼ì¸ ì „ì  ê²€ìƒ‰, ì„ ìˆ˜ í‹°ì–´, ìŠ¹ë¥  ê°œì„ , ë¹ ì¹­ì½” ì—°ìŠµì‹¤, ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°">
<meta property="og:description" content="FCì˜¨ë¼ì¸ ìœ ì €ë¥¼ ìœ„í•œ FC.GG ì„œë¹„ìŠ¤ë“¤ì„ í™•ì¸í•˜ì„¸ìš”. ìŠ¹ë¥  ê°œì„  ì†”ë£¨ì…˜, ì„ ìˆ˜ í‹°ì–´ ì œê³µ, ë¹ ì¹­ì½” ì—°ìŠµì‹¤, ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°, ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì´ìš©í•´ ë³´ì„¸ìš”!">
<meta property="og:url" content="https://www.fcgg.kr">
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block loading %}
<div class="loading-overlay" id="loading-overlay">
  <div class="loading-spinner"></div>
  <div class="loading-text">ìœ ì €ë‹˜ì˜ ê²½ê¸°ë“¤ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤!</div>
</div>
{% endblock %}

{% block content %}
<!-- Flash Alert -->
{% with messages = get_flashed_messages() %}
  {% if messages %}
  <div class="flash-alert">
    {{ messages[0] }}
    <button class="flash-close" onclick="this.parentElement.style.display='none'">&times;</button>
  </div>
  {% endif %}
{% endwith %}

<!-- Hero Section -->
<section class="hero-section">
  <h1 class="hero-title">
    FC.GG ì¹´ì¹´ì˜¤í†¡ ì±—ë´‡ <span class="text-primary">'í”¼íŒŒë´‡'</span> ì¶œì‹œ!
  </h1>
  <a href="https://pf.kakao.com/_xoxlZen" target="_blank" class="chatbot-link">
    ğŸ’¬ ì±—ë´‡ ì±„ë„ ë°”ë¡œê°€ê¸°
  </a>
</section>

<!-- âœ… Top Slot: Desktop=desktop_takeover / Mobile=mobile_banner (ë°•ìŠ¤ í¬ê¸° ê³ ì •) -->
<section class="ad-section">
  <div class="ad-box ad-box--top">
    <div id="vnt-slot-home-top" class="vnt-ad"></div>
  </div>
</section>

<!-- Bookmarks -->
<div class="bookmark-container" id="bookmark-container"></div>

<!-- Search Section -->
<section class="search-section">
  <div class="search-wrapper">
    <input type="text" id="character_name" class="search-input" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”">
    <button class="search-btn" id="search_button">ê²€ìƒ‰</button>
  </div>
</section>

<!-- Popular Players -->
<section class="popular-section">
  <div class="card-modern">
    <div class="card-header-modern">
      <h3 class="card-title-modern">ì‹¤ì‹œê°„ ì¸ê¸° êµ¬ë‹¨ì£¼</h3>
    </div>
    <div class="card-body-modern">
      {% if top_nicknames %}
      <ul class="popular-list">
        {% for nickname, lv, tier_image, search_count in top_nicknames %}
        <li class="popular-item" data-nickname="{{ nickname }}">
          <span class="popular-rank">Top {{ loop.index }}</span>
          <span class="popular-level">Lv. {{ lv }}</span>
          <span class="popular-nickname">{{ nickname }}</span>
          <img src="{{ tier_image }}" alt="Tier" class="popular-tier">
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <div class="popular-empty">
        <p>ì•„ì§ ê²€ìƒ‰ëœ êµ¬ë‹¨ì£¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        <p class="popular-empty-hint">ì²« ë²ˆì§¸ë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”!</p>
      </div>
      {% endif %}
    </div>
  </div>
</section>

<!-- âœ… Mid Slot: Desktop=leaderboard / Mobile=mobile_takeover (ë°•ìŠ¤ í¬ê¸° ê³ ì •) -->
<section class="ad-section">
  <div class="ad-box ad-box--mid">
    <div id="vnt-slot-home-mid" class="vnt-ad"></div>
  </div>
</section>

<!-- News Grid -->
<div class="news-grid">
  <!-- Announcements -->
  <div class="card-modern">
    <div class="card-header-modern">
      <h3 class="card-title-modern"><span class="text-primary">FC.GG</span> ê³µì§€ì‚¬í•­</h3>
    </div>
    <div class="card-body-modern">
      <div class="notice-list">
        <div class="notice-item" data-id="16">
          <div class="notice-title">
            25/10/22 2.1.0v ì—…ë°ì´íŠ¸ (<span class="text-danger">ì¹´ì¹´ì˜¤í†¡ ê·¸ë£¹ ì±—ë´‡ 'í”¼íŒŒë´‡' ì¶œì‹œ</span>)
          </div>
          <div class="notice-date" id="notice16-date"></div>
          <div class="notice-content" id="notice16-content">
            <p>ì´ë²ˆ ì—…ë°ì´íŠ¸ì—ì„œëŠ” ì¹´ì¹´ì˜¤í†¡ ì•± ë‚´ì—ì„œ 'í”¼íŒŒë´‡' ê·¸ë£¹ ì±—ë´‡ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì±—ë´‡ ë‚´ì—ì„œ ì „ì ê²€ìƒ‰, ìŠ¹ë¥ ê°œì„ , ì„ ìˆ˜í‹°ì–´, ìŠ¹ë¶€ì°¨ê¸°, ê³µí”¼í•˜ê¸° ì´ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë§ì€ ì´ìš© ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="15">
          <div class="notice-title">25/09/29 1.6.0v ì—…ë°ì´íŠ¸ (ë¯¸ë‹ˆê²Œì„: ê³µ í”¼í•˜ê¸°)</div>
          <div class="notice-date" id="notice15-date"></div>
          <div class="notice-content" id="notice15-content">
            <p>ì´ë²ˆ ì—…ë°ì´íŠ¸ì—ì„œëŠ” ê¸°ì¡´ ë¹ ì¹­ì½” ì—°ìŠµì‹¤ì´ ìŠ¤íì…œ ìƒì  ì—°ìŠµì‹¤ë¡œ ëª…ì¹­ì´ ë³€í™”ë˜ì—ˆìœ¼ë©°, ë¯¸ë‹ˆê²Œì„ìœ¼ë¡œ í†µí•©ê³¼ ë™ì‹œì— ê³µ í”¼í•˜ê¸° ì½˜í…ì¸ ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="14">
          <div class="notice-title">25/07/01 1.5.0v ì—…ë°ì´íŠ¸ (ì„ ìˆ˜ í‹°ì–´, í”Œë ˆì´ìŠ¤íƒ€ì¼)</div>
          <div class="notice-date" id="notice14-date"></div>
          <div class="notice-content" id="notice14-content">
            <p>ì´ë²ˆ ì—…ë°ì´íŠ¸ì—ì„œëŠ” êµ¬ë‹¨ì£¼ë‹˜ì˜ í”Œë ˆì´ìŠ¤íƒ€ì¼ì„ ë” ë‹¤ì±„ë¡­ê²Œ ë³€í™”ì‹œì¼°ìœ¼ë©° ì¸ê²Œì„ íŒ¨ì¹˜ì— ë”°ë¥¸ ì„ ìˆ˜ í‹°ì–´ë„ ë³€í™”ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="13">
          <div class="notice-title">25/02/15 1.4.0v ì—…ë°ì´íŠ¸ (ì „ì  ê²€ìƒ‰ ì„œë¹„ìŠ¤)</div>
          <div class="notice-date" id="notice13-date"></div>
          <div class="notice-content" id="notice13-content">
            <p>ì´ë²ˆ ì—…ë°ì´íŠ¸ì—ì„œëŠ” ì „ì  ê²€ìƒ‰ ì‹œ êµ¬ë‹¨ì£¼ë‹˜ì˜ ìŠ¤ì¿¼ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="12">
          <div class="notice-title">25/01/23 1.3.0v ì—…ë°ì´íŠ¸ (ë¹ ì¹­ì½” ì—°ìŠµì‹¤ : <span class="text-pink">SSL</span>)</div>
          <div class="notice-date" id="notice12-date"></div>
          <div class="notice-content" id="notice12-content">
            <p>ì´ë²ˆ ì—…ë°ì´íŠ¸ì—ì„œëŠ” ì‹ ê·œ ë¹ ì¹­ì½” : SSL ê·œì¹™ì— ë§ê²Œ ì—°ìŠµì‹¤ì„ ê°œí¸í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Updates -->
  <div class="card-modern">
    <div class="card-header-modern">
      <h3 class="card-title-modern"><span class="text-info">FC.GG</span> ì—…ë°ì´íŠ¸ ì˜ˆì •ì‚¬í•­</h3>
    </div>
    <div class="card-body-modern">
      <div class="notice-list">
        <div class="notice-item" data-id="u11">
          <div class="notice-title">2.1.0v ì‹ ê·œ ê¸°ëŠ¥ ì¶”ê°€ ì˜ˆì • (ì¹´ì¹´ì˜¤í†¡ ê·¸ë£¹ ì±—ë´‡ 'í”¼íŒŒë´‡')</div>
          <div class="notice-date" id="upcoming11-date"></div>
          <div class="notice-content" id="upcoming11-content">
            <p>FCì˜¨ë¼ì¸ ìœ ì €ë¶„ë“¤ì´ ì¹´ì¹´ì˜¤í†¡ ì•± ë‚´ì—ì„œë„ ì „ì ê²€ìƒ‰, ìŠ¹ë¥ ê°œì„  ì½˜í…ì¸ ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ì‹ ê·œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="u10">
          <div class="notice-title">1.6.0v ì‹ ê·œ ê¸°ëŠ¥ ì¶”ê°€ ì˜ˆì • (ë¯¸ë‹ˆê²Œì„: ê³µ í”¼í•˜ê¸°)</div>
          <div class="notice-date" id="upcoming10-date"></div>
          <div class="notice-content" id="upcoming10-content">
            <p>FCì˜¨ë¼ì¸ ìœ ì €ë¶„ë“¤ì´ ê³µ í”¼í•˜ê¸° ë¯¸ë‹ˆê²Œì„ì„ ì²´í—˜í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ì‹ ê·œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="u9">
          <div class="notice-title">1.5.0v í¸ì˜ì„± ê°œì„  ì˜ˆì • (ì„ ìˆ˜ í‹°ì–´, í”Œë ˆì´ìŠ¤íƒ€ì¼)</div>
          <div class="notice-date" id="upcoming9-date"></div>
          <div class="notice-content" id="upcoming9-content">
            <p>FCì˜¨ë¼ì¸ ìœ ì €ë¶„ë“¤ì´ ì „ì  ê²€ìƒ‰ ì‹œ ë” ë‹¤ì±„ë¡œìš´ í”Œë ˆì´ìŠ¤íƒ€ì¼ì„ ë§Œë‚˜ë³´ì‹¤ ìˆ˜ ìˆë„ë¡ ê°œí¸ ì˜ˆì •ì…ë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="u8">
          <div class="notice-title">1.4.0v í¸ì˜ì„± ê°œì„  ì˜ˆì • (ì „ì  ê²€ìƒ‰ ì„œë¹„ìŠ¤)</div>
          <div class="notice-date" id="upcoming8-date"></div>
          <div class="notice-content" id="upcoming8-content">
            <p>FCì˜¨ë¼ì¸ ìœ ì €ë¶„ë“¤ì´ ì „ì  ê²€ìƒ‰ ì‹œ ìì‹ ì˜ ìŠ¤ì¿¼ë“œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ê°œí¸ ì˜ˆì •ì…ë‹ˆë‹¤.</p>
          </div>
        </div>

        <div class="notice-item" data-id="u7">
          <div class="notice-title">1.3.0v í¸ì˜ì„± ê°œì„  ì˜ˆì • (ë¹ ì¹­ì½” ì—°ìŠµì‹¤ : SSL)</div>
          <div class="notice-date" id="upcoming7-date"></div>
          <div class="notice-content" id="upcoming7-content">
            <p>FCì˜¨ë¼ì¸ ìœ ì €ë¶„ë“¤ì´ ì‹ ê·œ ë¹ ì¹­ì½” : SSLì„ ì—°ìŠµí•˜ì‹¤ ìˆ˜ ìˆë„ë¡ ê°œí¸ ì˜ˆì •ì…ë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
  // Calculate time ago (months or days)
  function calculateDaysAgo(uploadDate) {
    const now = new Date();
    const uploaded = new Date(uploadDate);
    const diffTime = Math.abs(now - uploaded);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    const diffMonths = Math.floor(diffDays / 30);

    if (diffMonths >= 1) return diffMonths + "ë‹¬ ì „";
    return diffDays + "ì¼ ì „";
  }

  // Set notice dates
  document.getElementById("notice12-date").textContent = calculateDaysAgo("2025-01-23");
  document.getElementById("notice13-date").textContent = calculateDaysAgo("2025-02-15");
  document.getElementById("notice14-date").textContent = calculateDaysAgo("2025-07-01");
  document.getElementById("notice15-date").textContent = calculateDaysAgo("2025-09-29");
  document.getElementById("notice16-date").textContent = calculateDaysAgo("2025-10-21");

  document.getElementById("upcoming7-date").textContent = calculateDaysAgo("2025-01-22");
  document.getElementById("upcoming8-date").textContent = calculateDaysAgo("2025-02-10");
  document.getElementById("upcoming9-date").textContent = calculateDaysAgo("2025-06-25");
  document.getElementById("upcoming10-date").textContent = calculateDaysAgo("2025-09-24");
  document.getElementById("upcoming11-date").textContent = calculateDaysAgo("2025-10-05");

  // Notice toggle
  document.querySelectorAll('.notice-item').forEach(item => {
    item.querySelector('.notice-title').addEventListener('click', function() {
      const content = item.querySelector('.notice-content');
      content.classList.toggle('active');
    });
  });

  // Loading
  function showLoading() {
    document.getElementById("loading-overlay").style.display = "flex";
  }

  window.addEventListener("pageshow", function(event) {
    if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
      document.getElementById("loading-overlay").style.display = "none";
    }
  });

  // Search
  document.getElementById("search_button").addEventListener("click", function() {
    var characterName = document.getElementById("character_name").value;
    if (characterName.trim() !== "") {
      showLoading();
      setTimeout(function() {
        window.location.href = "/result.html?character_name=" + characterName + "&match_type=50";
      }, 10);
    }
  });

  document.getElementById("character_name").addEventListener("keyup", function(event) {
    if (event.key === "Enter") document.getElementById("search_button").click();
  });

  // Popular player click
  document.querySelectorAll('.popular-item').forEach(function(element) {
    element.addEventListener('click', function() {
      const characterName = this.getAttribute('data-nickname');
      showLoading();
      setTimeout(function() {
        window.location.href = `/result.html?character_name=${characterName}&match_type=50`;
      }, 10);
    });
  });

  // Bookmark functions
  function setupClickableNicknames() {
    document.querySelectorAll('.bookmark-nickname').forEach(function(element) {
      element.addEventListener('click', function(event) {
        event.preventDefault();
        const characterName = this.textContent.trim();
        showLoading();
        setTimeout(function() {
          window.location.href = `/result.html?character_name=${characterName}&match_type=50`;
        }, 500);
      });
    });
  }

  function renderBookmarks() {
    const bookmarkContainer = document.getElementById('bookmark-container');
    const bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];
    bookmarkContainer.innerHTML = '';

    bookmarks.forEach((nickname) => {
      const listItem = document.createElement('div');
      listItem.className = 'bookmark-item';

      const star = document.createElement('span');
      star.className = 'bookmark-star';
      star.innerHTML = 'â˜…';

      const name = document.createElement('a');
      name.className = 'bookmark-nickname';
      name.textContent = nickname;
      name.href = `/result.html?character_name=${nickname}&match_type=50`;

      const removeBtn = document.createElement('button');
      removeBtn.className = 'bookmark-remove';
      removeBtn.textContent = 'X';
      removeBtn.onclick = () => {
        const index = bookmarks.indexOf(nickname);
        if (index !== -1) {
          bookmarks.splice(index, 1);
          localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
          renderBookmarks();
          setupClickableNicknames();
        }
      };

      listItem.appendChild(star);
      listItem.appendChild(name);
      listItem.appendChild(removeBtn);
      bookmarkContainer.appendChild(listItem);
    });

    setupClickableNicknames();
  }

  document.addEventListener('DOMContentLoaded', function() {
    renderBookmarks();
  });

  // âœ… Venatus (home í˜ì´ì§€ ìŠ¬ë¡¯í˜• ê´‘ê³ ë§Œ ì—¬ê¸°ì„œ ì²˜ë¦¬)
  window.__VM = window.__VM || [];
  window.__VM.push(function(admanager, scope) {
    try {
      // Top Slot: Desktop=desktop_takeover / Mobile=mobile_banner
      scope.Config.buildPlacement(function(cb) {
        cb.add("desktop_takeover");
        cb.addDefaultOrUnique("mobile_banner").setBreakPoint("mobile");
      }, "home-top").display("vnt-slot-home-top");

      // Mid Slot: Desktop=leaderboard / Mobile=mobile_takeover
      scope.Config.buildPlacement(function(cb) {
        cb.add("leaderboard");
        cb.addDefaultOrUnique("mobile_takeover").setBreakPoint("mobile");
      }, "home-mid").display("vnt-slot-home-mid");
    } catch (e) {
      console.warn("[VENATUS] home placements failed:", e);
    }
  });
</script>
{% endblock %}
