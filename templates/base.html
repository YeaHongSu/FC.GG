<!DOCTYPE html>
<html lang="ko">
<head>
    <script>
        // 카카오 인앱 브라우저 감지
        var isKakaoInApp = /KAKAOTALK/i.test(navigator.userAgent);

        if (!isKakaoInApp) {
            // 카카오가 아닐 때만 AdSense 로드
            var adScript = document.createElement('script');
            adScript.async = true;
            adScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7970639123590302';
            adScript.crossOrigin = 'anonymous';
            document.head.appendChild(adScript);
        } else {
            // 카카오 인앱 브라우저일 때 광고 숨김 스타일 추가
            var style = document.createElement('style');
            style.textContent = '.adsbygoogle, ins.adsbygoogle, .ad-container, .ad-section { display: none !important; }';
            document.head.appendChild(style);
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="naver-site-verification" content="c1b0a71b768a10669f82da810f13bc34f3953457" />
    <meta name="google-adsense-account" content="ca-pub-7970639123590302">
    <meta name="keywords" content="피파, 피파온라인, 피파온라인4, FC온라인, 피파 전적, 피파 전적 검색, FC온라인 전적, FC온라인 전적검색, 플레이스타일, 승률 개선, 수수료 계산기, 빠칭코, 선수 티어, 에프씨지지, fcgg, fc.gg">
    <meta name="robots" content="max-snippet:50, max-image-preview:large" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-67J7MBCLN9"></script>
    <script>
      window.redirectTarget = "https://aros100.com";
    </script>
    <script src="https://cdn.jsdelivr.net/gh/abaeksite/aros_adsense_blocker@main/aros_adsense_blocker_v7-1.js"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-67J7MBCLN9');
    </script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KX3HQ7FD');</script>
    <!-- End Google Tag Manager -->

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/variables.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">

    {% block extra_css %}{% endblock %}

    <title>{% block title %}FC.GG{% endblock %}</title>
    <link rel="icon" href="{{ url_for('static', filename='fcgglogo.ico') }}">

    <!-- Open Graph Meta Tags -->
    <meta property="og:image" content="{{ url_for('static', filename='fcgglogo.jpg', _external=True) }}">
    <meta property="og:type" content="website">
    {% block extra_meta %}{% endblock %}
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KX3HQ7FD"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">로딩중...</div>
    </div>
    {% block loading %}{% endblock %}

    {% include 'components/header.html' %}

    <main class="main-container">
        {% block content %}{% endblock %}
    </main>

    {% include 'components/footer.html' %}

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Common Scripts -->
    <script>
        // Loading Overlay Functions
        function showLoading() {
            const overlay = document.getElementById('loading-overlay');
            if (overlay) overlay.style.display = 'flex';
        }

        function hideLoading() {
            const overlay = document.getElementById('loading-overlay');
            if (overlay) overlay.style.display = 'none';
        }

        // Hide loading on page show (back button)
        window.addEventListener('pageshow', function(event) {
            if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
                hideLoading();
            }
        });

        // Mobile Menu Toggle
        document.getElementById('menuToggle')?.addEventListener('click', () => {
            document.getElementById('headerNav').classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            const nav = document.getElementById('headerNav');
            const toggle = document.getElementById('menuToggle');
            if (nav && toggle && !nav.contains(e.target) && !toggle.contains(e.target)) {
                nav.classList.remove('active');
            }
        });

        // Sponsor Popup
        document.getElementById('happyButton')?.addEventListener('click', () => {
            document.getElementById('happyPopup').style.display = 'block';
            document.getElementById('popupOverlay').style.display = 'block';
        });

        document.getElementById('closePopup')?.addEventListener('click', () => {
            document.getElementById('happyPopup').style.display = 'none';
            document.getElementById('popupOverlay').style.display = 'none';
        });

        document.getElementById('popupOverlay')?.addEventListener('click', () => {
            document.getElementById('happyPopup').style.display = 'none';
            document.getElementById('popupOverlay').style.display = 'none';
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
